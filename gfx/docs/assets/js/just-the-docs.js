var myVariable = `
{"0": {
    "doc": "License",
    "title": "License",
    "content": "MICROCHIP SOFTWARE IS PROVIDED SOLELY TO ASSIST YOU IN DEVELOPING PRODUCTS AND SYSTEMS THAT USE MICROCHIP PRODUCTS. DOWNLOAD AND/OR USE OF THE SOFTWARE REQUIRES THAT YOU ACCEPT THIS SOFTWARE LICENSE AGREEMENT. IF YOU DO NOT WISH TO ACCEPT THESE TERMS, DO NOT DOWNLOAD OR USE ANY OF THE SOFTWARE. DOWNLOADING OR USING THE SOFTWARE CONTITUTES YOUR ACCEPTANCE OF THIS SOFTWARE LICENSE AGREEMENT. SOFTWARE LICENSE AGREEMENT . This Software License Agreement (\\\"Agreement\\\") is an agreement between you (if licensing as an individual) or the entity you represent (if licensing as a business) (\\\"you\\\" or \\\"Licensee\\\") and Microchip Technology Incorporated, a Delaware corporation, with a place of business at 2355 W. Chandler Blvd., Chandler, AZ 85224-6199, and its affiliates including Microchip Technology Ireland Limited, a company organized under the laws of Ireland, with a principal address at Ground Floor, Block W., East Point Business Park, Dublin, Ireland 3 (collectively, \\\"Microchip\\\") for the Microchip MPLAB Harmony Integrated Software Framework and documentation included in the download or otherwise provided by Microchip to Licensee (collectively, the \\\"Software\\\"). 1. Use. Subject to the terms of this Agreement, Microchip hereby grants Licensee a limited, revocable, non-exclusive, non-transferable, worldwide license to (a) use the Software, and (b) modify the Software provided in source code form, if any (and use and copy modifications of such Software made by Licensee), provided that in each case (with respect to clauses (a) and (b)) Licensee solely uses the Software with Microchip Products, Licensee Products, or other products agreed to by Microchip in writing. Licensee has no right to (i) substitute third party products for Microchip Products, or (ii) except as expressly provided in Section 2 below, sublicense its rights under this Agreement or otherwise disclose or distribute the Software to any third party. Licensee may make a reasonable number of copies of the Software solely as necessary to exercise its license rights in this Section 1. Licensee will not remove or alter any copyright, trademark, or other proprietary notices contained on or in the Software or any copies. “Microchip Products” means those Microchip devices purchased from Microchip or one of its authorized distributors that are identified in the Software, or if not identified in the Software, then such Microchip devices that are consistent with the purpose of the Software, including but not limited to Microchip 32-bit microcontroller and microprocessor devices and the like. “Licensee Products” means products manufactured by or for Licensee that use or incorporate Microchip Products. 2. Subcontractors. If Licensee wishes for its subcontractor to obtain and use the Software in order to provide design, manufacturing, or other services to Licensee: (a) such subcontractor may (i) download and agree to the terms of this Agreement or (ii) contact Microchip directly for a copy of this Agreement and agree to its terms; or (b) Licensee may sublicense the rights described in Section 1 directly to its subcontractor, provided that (i) such subcontractor agrees in writing to the terms of this Agreement � a copy of which will be provided to Microchip upon request, and (ii) Licensee is liable for such subcontractor's acts and omissions. 3. Third Party Software. (a) Third Party Materials. Licensee agrees to comply with third party license terms applicable to Third Party Materials, if any. Microchip will not be held responsible for Licensee's failure to comply with such terms. Microchip has no obligation to provide support or maintenance for Third Party Materials. \\\"Third Party Materials\\\" means the third party software, systems, tools, or specifications (including those of a standards setting organization) referenced in, bundled with, or included in the Software. (b) Open Source Components. Notwithstanding the license grant in Section 1 above, Licensee acknowledges that the Software may include Open Source Components. To the extent required by the licenses covering Open Source Components, the terms of such license apply in lieu of the terms of this Agreement. To the extent the terms of the licenses applicable to Open Source Components prohibit any of the restrictions in this Agreement with respect to such Open Source Components, those restrictions will not apply to the Open Source Component. \\\"Open Source Components\\\" means components of the Software that are subject to the terms of an Open Source License. \\\"Open Source License\\\" means any software license approved as an open source license by the Open Source Initiative or any substantially similar license, including without limitation any license that, as a condition of distribution of the software licensed under such license, requires that the distributor make the software available in source code format. 4. Licensee Obligations. (a) Restrictions. Except as expressly permitted by this Agreement, Licensee agrees that it will not (i) modify or alter the Software or a Microchip Product; (ii) adapt, translate, decompile, reverse engineer, disassemble the Software provided in object code form, any Microchip Product, or any samples or prototypes provided by Microchip, or create derivative works thereof; or (iii) use the Software with any software or other materials that are subject to licenses or restrictions (e.g., Open Source Licenses) that, when combined with the Software, would require Microchip to disclose, license, distribute, or otherwise make all or any part of such Software available to anyone. (b) Indemnity. Licensee will indemnify (and, at Microchip's election, defend) Microchip from and against any and all claims, costs, damages, expenses (including reasonable attorneys' fees), liabilities, and losses, arising out of or related to: (i) Licensee's modification, disclosure, or distribution of the Software or Third Party Materials; (ii) the use, sale, or distribution of Licensee Products; and (iii) an allegation that Licensee Products or Licensee's modification of the Software infringe third party intellectual property rights. (c) Licensee Products. Licensee understands and agrees that Licensee remains responsible for using its independent analysis, evaluation, and judgment in designing Licensee Products and systems and has full and exclusive responsibility to assure the safety of its products and compliance of its products (and of all Microchip Products used in or for such Licensee Products) with applicable laws and requirements. 5. Confidentiality. (a) Licensee agrees that the Software, underlying inventions, algorithms, know-how, and ideas relating to the Software, and any other non-public business or technical information disclosed by Microchip to Licensee are confidential and proprietary information, including information derived therefrom, belonging to Microchip and its licensors (collectively, \\\"Confidential Information\\\"). Licensee will use Confidential Information only to exercise its rights and perform its obligations under this Agreement and will take all reasonable measures to protect the secrecy of and avoid unauthorized access, disclosure, and use of Confidential Information. Such measures include, but are not limited to, the highest degree of care that it uses to protect its own information of a similar nature, but not less than reasonable care. Licensee will only disclose Confidential Information to its employees, subcontractors, consultants, auditors and representatives (collectively \\\"Representatives\\\") who have a need to know such information and who have use and confidentiality obligations to Licensee at least as restrictive as those set forth in this Agreement. Licensee is responsible for disclosure or misuse of Confidential Information by its Representatives. Use of Confidential Information for personal gain, for the benefit of a third party or to compete with Microchip, whether directly or indirectly, is a breach of this Agreement. Licensee will notify Microchip in writing of any actual or suspected misuse, misappropriation, or unauthorized disclosure of Confidential Information that comes to Licensee's attention. Confidential Information will not include information that: (i) is or becomes publicly available without breach of this Agreement; (ii) is known or becomes known to Licensee from a source other than Microchip without restriction and without breach of this Agreement or violation of Microchip's rights, as demonstrated by credible evidence in existence at the time of disclosure; (iii) is independently developed by Licensee without use of or reference to the Confidential Information, as demonstrated by credible evidence in existence at the time of independent development; or (iv) is disclosed generally to third parties by Microchip without restrictions similar to those contained in this Agreement. Licensee may disclose Confidential Information to the extent required under law, rule, or regulation (including those of any national securities exchange), by subpoena, civil investigative demand, or similar process, or by a court or administrative agency (each a \\\"Requirement\\\"'), provided, that to the extent permitted by applicable law, Licensee will provide prompt notice of such Requirement to Microchip to enable Microchip to seek a protective order or otherwise prevent or restrict such disclosure. (b) Return of Materials. Upon Microchip's request and direction, Licensee will promptly return or destroy the Confidential Information, including any physical information or materials provided to Licensee (together with any copies, excerpts, syntheses, CD ROMS, diskettes, etc.), and, in the case of information derived therefrom, provide written certification that all the Confidential Information has been expunged from any such materials or that all such materials have been destroyed. Further, if Licensee or its affiliates become competitors of Microchip, and Microchip notifies Licensee in writing of its status as a competitor in a given market, then Licensee will promptly engage in the return and certification process described above in this Section 5(b). 6. Ownership and Retention of Rights. All rights, title, and interest (including all intellectual property rights) in and to the Software, including any derivative works of the Software and any incremental modifications to the Software whether made by or for Licensee or Microchip (collectively, \\\"Microchip Property\\\"), are and will remain the sole and exclusive property of Microchip, whether such Microchip Property is separate or combined with any other products. Licensee, on behalf of itself and its affiliates, agrees to, and does hereby, assign to Microchip or its designee all right, title and interest (including all intellectual property rights) in and to derivative works of and any incremental modifications to the Software. Licensee will take (and will cause its affiliates, their subcontractors, and all related individuals to take) all action as may be reasonably necessary, proper or advisable to perfect and secure the ownership, licenses, intellectual property and other rights of or to Microchip as set forth in this Agreement. All rights not expressly granted under this Agreement are reserved to Microchip and its licensors and suppliers, and there are no implied rights. Licensee retains all right, title, and interest in and to any technology independently developed by Licensee not derived, directly or indirectly, from the Microchip Property or any other item of tangible property provided to Licensee by Microchip hereunder. 7. Termination. This Agreement will start once accepted by Licensee and continue unless and until terminated as provided in this Agreement. This Agreement automatically terminates immediately if Licensee violates the restrictions set forth in Sections 1, 2 or 4(a). Microchip may terminate this Agreement immediately upon notice if (a) Licensee or its affiliates become competitors of Microchip, or (b) Licensee breaches any other term of this Agreement and does not cure such breach within 30 days after receipt of written notice of such breach from Microchip. Upon termination of this Agreement, (i) the license grants in Sections 1 and 2(b) terminate, and (ii) Licensee will return to Microchip or destroy (and certify the destruction of) all Microchip Property and Confidential Information in its possession or under its control, and all copies thereof. The following sections survive termination of this Agreement: 3, 4, 5, 6, 7, 8, 9, 10, 11 and 12. 8. Dangerous Applications. The Software is not fault-tolerant and is not designed, manufactured, or intended for use in hazardous environments requiring failsafe performance (\\\"Dangerous Applications\\\"). Dangerous Applications include the operation of nuclear facilities, aircraft navigation, aircraft communication systems, air traffic control, direct life support machines, weapons systems, or any environment or system in which the failure of the Software could lead directly or indirectly to death, personal injury, or severe physical or environmental damage. Microchip specifically disclaims (a) any express or implied warranty of fitness for use of the Software in Dangerous Applications; and (b) any and all liability for loss, damages and claims resulting from the use of the Software in Dangerous Applications. 9. EU Consumers � Applicable Terms. WHERE LICENSEE IS A CONSUMER LOCATED IN EUROPE, THE FOLLOWING PROVISIONS APPLY INSTEAD OF SECTIONS 9 AND 10 BELOW: Microchip and its licensors will not be liable (a) for any loss suffered by Licensee in connection with the Software where such loss was not reasonably foreseeable when the Software was first downloaded by Licensee, even if such loss was the result of negligence or the failure of Microchip and its licensors to comply with this Agreement; or (b) irrespective of the basis of claim, for any loss of revenue, profit or other business or economic loss suffered. Some Software is made available to Licensee free of charge, and Licensee may at any time download further copies without charge to replace the Software initially downloaded and others may require a fee to be downloaded, or to download any further copies. In all circumstances, to the extent liability may lawfully be limited or excluded, the cumulative liability of Microchip and its licensors will not exceed USD$1,000 (or equivalent sum in the currency of the country in which Licensee resides). However, none of the foregoing limits or excludes any liability for death or personal injury arising from negligence, or for fraud, fraudulent misrepresentation or any other cause that by law cannot be excluded and limited. 10. Warranty Disclaimers. EXCEPT FOR CONSUMERS TO WHOM SECTION 8 APPLIES, THE SOFTWARE IS LICENSED ON AN \\\"AS-IS\\\" BASIS. MICROCHIP MAKES NO WARRANTIES OF ANY KIND WITH RESPECT TO THE SOFTWARE, WHETHER EXPRESS, IMPLIED, STAUTORY OR OTHERWISE, AND EXPRESSLY DISCLAIMS ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE OR NON-INFRINGEMENT AND ANY WARRANTIES THAT MAY ARISE FROM USAGE OF TRADE OR COURSE OF DEALING. MICROCHIP AND ITS LICENSORS HAVE NO OBLIGATION TO CORRECT ANY DEFECTS IN THE SOFTWARE. TECHNICAL ASSISTANCE, IF PROVIDED, WILL NOT EXPAND THESE WARRANTIES. IF CUSTOMER IS A CONSUMER, THE ABOVE WILL NOT ACT TO EXCLUDE YOUR STATUTORY RIGHTS. 11. Limited Liability. EXCEPT FOR CONSUMERS TO WHOM SECTION 8 APPLIES, IN NO EVENT WILL MICROCHIP BE LIABLE, WHETHER IN CONTRACT, WARRANTY, REPRESENTATION, TORT, STRICT LIABILITY, INDEMNITY, CONTRIBUTION OR OTHERWISE, FOR ANY INDIRECT, SPECIAL, PUNITIVE, EXEMPLARY, INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE OF ANY KIND WHATSOEVER, HOWEVER CAUSED, OR ANY LOSS OF PRODUCTION, COST OF PROCUREMENT OF SUBSTITUTE PRODUCTS OR SERVICES, ANY LOSS OF PROFITS, LOSS OF BUSINESS, LOSS OF USE OR LOSS OF DATA, OR INTERRUPTION OF BUSINESS ARISING OUT OF THIS AGREEMENT, HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, EVEN IF MICROCHIP HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH LOSS, AND NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY. MICROCHIP'S TOTAL AGGREGATE LIABILITY UNDER THIS AGREEMENT WILL NOT EXCEED USD$1,000. 12. General. (a) This Agreement will be governed by and construed in accordance with the laws of the State of Arizona and the United States, without regard to conflicts of law provisions. The parties hereby irrevocably consent to the exclusive personal jurisdiction and venue of the state and federal courts in Maricopa County, Arizona for any dispute relating to this Agreement. WHERE LICENSEE IS A CONSUMER LOCATED IN EUROPE, this Agreement is subject to the laws of the country in which the Software is downloaded, and, to the extent so mandated by such laws, subject to the jurisdiction of the courts of that country. The parties expressly disclaim the applicability of the United Nations Convention on Contracts for the International Sale of Goods in connection with this Agreement. (b) Unless the parties have a mutually executed agreement relating to the licensing of this Software by Microchip to Licensee (\\\"Signed Agreement\\\"), this Agreement constitutes the entire agreement between the parties with respect to the Software, and supersedes and replaces prior or contemporaneous written or verbal agreements or communications between the parties regarding the Software, including any purchase orders. If the parties have a Signed Agreement, this Agreement does not supersede or replace that Signed Agreement. This Agreement will not be modified except by a written agreement signed by an authorized representative of Microchip. If any provision of this Agreement is held by a court of competent jurisdiction to be illegal, invalid, or unenforceable, that provision will be limited or eliminated to the minimum extent necessary so that this Agreement will otherwise remain in full force and effect and enforceable. No waiver of any breach of any provision of this Agreement constitutes a waiver of any prior, concurrent, or subsequent breach of the same or any other provisions of this Agreement, and no waiver will be effective unless made in writing and signed by an authorized representative of the waiving party. (c) Licensee agrees to comply with all import and export laws and restrictions and regulations of the Department of Commerce or other United States or foreign agency or authority. (d) This Agreement will bind and inure to the benefit of each party's permitted successors and assigns. Licensee may not assign this Agreement in whole or in part, whether by law or otherwise, without Microchip's prior written consent. Any merger, consolidation, amalgamation, reorganization, transfer of all or substantially all assets or other change in control or majority ownership (\\\"Change of Control\\\") is considered an assignment for the purpose of this Section. Any attempt to assign this Agreement without such consent will be null and void. However, Microchip may assign this Agreement to an affiliate, or to another entity in the event of a Change of Control. (e) Licensee acknowledges its breach of any confidentiality or proprietary rights provision of this Agreement would cause Microchip irreparable damage, for which the award of damages would not be an adequate remedy. Licensee, therefore, agrees if Microchip alleges that Licensee has breached or violated any such provisions then Microchip may seek equitable relief, in addition to all other remedies at law or in equity. (f) Authorized representatives of Microchip shall have the right to reasonably inspect Licensee's premises and to audit Licensee's records and inventory of Licensee Products, whether located on Licensee's premises or elsewhere at any time, announced or unannounced, and in its sole and absolute discretion, in order to ensure Licensee's adherence to the terms of this Agreement. (g) Consistent with 48 C.F.R. �12.212 or 48 C.F.R. �227.7202-1 through 227.7202-4, as applicable, the Software is being licensed to U.S. Government end users (i) only as Commercial Items, and (ii) with only those rights as are granted to all other end users pursuant to the terms and conditions of the applicable Microchip licenses. To the extent the Software (or a portion thereof) qualifies as �technical data' as such term is defined in 48 C.F.R. �252.227-7015(a)(5), then its use, duplication, or disclosure by the U.S. Government is subject to the restrictions set forth in subparagraphs (a) through (e) of the Rights in Technical Data clause at 48 C.F.R. �252.227-7015. Contractor/manufacturer is Microchip Technology Inc., 2355 W. Chandler Blvd., Chandler, AZ 85224-6199. Questions about this Agreement should be sent to: Microchip Technology Inc., 2355 W. Chandler Blvd., Chandler, AZ 85224-6199 USA. ATTN: Marketing. v.3.3.2021 . ",
    "url": "http://localhost:4000/gfx/mplab_harmony_license.html",
    "relUrl": "/mplab_harmony_license.html"
  },"1": {
    "doc": "Graphics Applications",
    "title": "Microchip Graphics Suite (MGS) Harmony Application Support",
    "content": "Microchip Graphics Suite (MGS) Harmony provides various application examples for a number of device families. For feature-rich, professional Microchip Graphics Suite demonstrations and demonstrations from third-party graphics libaries, refer to user guides on Microchip Developer Help or search for “Microchip Graphcis Suite” on MPLAB® Discover. ",
    "url": "http://localhost:4000/gfx/apps/readme.html#microchip-graphics-suite-mgs-harmony-application-support",
    "relUrl": "/apps/readme.html#microchip-graphics-suite-mgs-harmony-application-support"
  },"2": {
    "doc": "Graphics Applications",
    "title": "Harmony 3 Basic Graphics Application examples:",
    "content": "See the following repositories for blank examples intended for engineering display bring-up only. | Repository | Product family | . | gfx_apps_pic32cx_sg | Basic Graphics Application examples for: PIC32CX SG40 family | . | gfx_apps_pic32cm_le_ls | Basic Basic Graphics Application examples for: PIC32CM LE/LS family | . | gfx_apps_pic32ck_sg_gc | Basic Graphics Application examples for: PIC32CK SG/GC family | . | gfx_apps_pic32cz_ca | Basic Graphics Application examples for: PIC32CZ CA family | . | gfx_apps_pic32cz_ca70_mc70 | Basic Graphics Application examples for: PIC32CZ CA70 MC70 family | . | gfx_apps_pic32mz_da | Basic Graphics Application examples for: PIC32MZ Graphics (DA) family PIC32MZ Graphics (DAK/DAL/DAR/DAS) family | . | gfx_apps_pic32mz_ef | Basic Graphics Application examples for PIC32MZ Embedded Connectivity with Floating Point Unit (EF) family | . | gfx_apps_sam_9x60 | Basic Graphics Application examples for SAM9X60 family | . | gfx_apps_sam_9x7 | Basic Graphics Application examples for SAM9X7 family | . | gfx_apps_sam_a5d2 | Basic Graphics Application examples for SAMA5D2 family | . | gfx_apps_sam_a7d65 | Basic Graphics Application examples for SAMA7D65 family | . | gfx_apps_sam_c20_c21 | Basic Graphics Application examples for SAM C20/C21 family | . | gfx_apps_sam_d5x_e5x | Basic Graphics Application examples for SAM D5x/E5x family | . | gfx_apps_sam_e70_s70_v70_v71 | Basic Graphics Application examples for SAM E70/S70/V70/V71 family | . | gfx_apps_sam_l22 | Segemented LCD Application examples for SAM L22 family | . ",
    "url": "http://localhost:4000/gfx/apps/readme.html#harmony-3-basic-graphics-application-examples",
    "relUrl": "/apps/readme.html#harmony-3-basic-graphics-application-examples"
  },"3": {
    "doc": "Graphics Applications",
    "title": "Graphics Applications",
    "content": ". ",
    "url": "http://localhost:4000/gfx/apps/readme.html",
    "relUrl": "/apps/readme.html"
  },"4": {
    "doc": "User Guides",
    "title": "User Guides",
    "content": "![Microchip logo](https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png) ![Microchip Graphics Suite](https://mchpgfx.github.io/legato.docs/docs/legato/images/mgs.svg) # Microchip Graphics Suite (MGS) Harmony Documentation Below are resources to assist with software development using Microchip Graphics Suite (MGS) Harmony [MGS Harmony User Guides](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/) - Provides dynamic solution driven documentation and feedback in a release-independent manner. It contains how-to guides and step-by-step tutorials. [MGS Harmony Graphics Demonstration Documentation via MPLAB® Discover](https://mplab-discover.microchip.com/v2?dsl=Microchip+AND+Graphics+AND+Suite) - Graphics demonstrations featuring a wide variety display technology permuations using Micrcohip microcontroller and microprocessor products. *** ",
    "url": "http://localhost:4000/gfx/documentation.html",
    "relUrl": "/documentation.html"
  },"5": {
    "doc": "Release notes",
    "title": "Release notes",
    "content": "![Microchip logo](https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png) ![MGS Logo](https://mchpgfx.github.io/legato.docs/docs/legato/images/mgs.svg) # Microchip Graphics Suite Harmony Release Notes ## Graphics Release v3.15.3 ### Issues Fixed * Composer: Fixes dependency errors with Linux binary ### MGS Harmony Composer * MGS Harmony Composer v3.0.8 (Windows/Linux) * For more information about how to user the MGS Harmony Graphics Composer, visit the [MGS Harmony Composer User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/composer-ug/) at Microchip Develop Help. **NOTE 1:** MGS Harmony Composer UI/UX modernized for Windows and Linux builds only * MacOS Build version remains at: * Microchip Graphics Composer v1.4.1b * Legato Plugin v2.3.15b **NOTE 2:** MGS Harmony Composer users on Windows may have missing DLLs on launch: VCRUNTIME140.dll, VCRUNTIME140_1.dll and MSCVP140.dll. To remedy this, make sure to install the latest [Microsoft Visual C++ Redistributable](https://learn.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version). ### MGS Simulator * MGS Simulator v1.1.0 * For information on how to download and install the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.5.1 ### Dependent Components * [Core v3.13.5 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.5) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.15.2 ### Issues Fixed * Composer: Pan/Zoom issues in Screen Designer * Composer: Updated splash screen logo to have trademark ® * Composer: Fixed widget Crash * Composer: Fixed crash where selecting a widget from the toolbox and then selecting it again in the Screen Tree, before placing it, would cause a crash * Composer: String manager theme-color issues * Composer: Docks in Composer look wrong during 1st initialization * Composer: Various cosmetic fixes * Simulator: Fixes layer parity check * Simulator: Fixes an error to notify users about layer count inequality * XLCDC Driver: Fixes Canvas integration issues * XLCDC Driver: HEO Layer scaling issues * XLCDC Driver: RGB565 color issues * XLCDC Driver: YrBrCr display issues ### MGS Harmony Composer * MGS Harmony Composer v3.0.8 (Windows/Linux) * For more information about how to user the MGS Harmony Graphics Composer, visit the [MGS Harmony Composer User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/composer-ug/) at Microchip Develop Help. **NOTE 1:** MGS Harmony Composer UI/UX modernized for Windows and Linux builds only * MacOS Build version remains at: * Microchip Graphics Composer v1.4.1b * Legato Plugin v2.3.15b **NOTE 2:** MGS Harmony Composer users on Windows may have missing DLLs on launch: VCRUNTIME140.dll, VCRUNTIME140_1.dll and MSCVP140.dll. To remedy this, make sure to install the latest [Microsoft Visual C++ Redistributable](https://learn.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version). ### MGS Simulator * MGS Simulator v1.1.0 * For information on how to download and install the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.5.1 ### Dependent Components * [Core v3.13.5 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.5) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.15.1 ### Issues Fixed * Composer: Created a new layer at an offset and fixed size but the design view shows the layer at 0,0 ### MGS Harmony Composer * MGS Harmony Composer v3.0.1 (Windows/Linux) * For more information about how to user the MGS Harmony Graphics Composer, visit the [MGS Harmony Composer User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/composer-ug/) at Microchip Develop Help. **NOTE 1:** MGS Harmony Composer UI/UX modernized for Windows and Linux builds only * MacOS Build version remains at: * Microchip Graphics Composer v1.4.1b * Legato Plugin v2.3.15b **NOTE 2:** MGS Harmony Composer users on Windows may have missing DLLs on launch: VCRUNTIME140.dll, VCRUNTIME140_1.dll and MSCVP140.dll. To remedy this, make sure to install the latest [Microsoft Visual C++ Redistributable](https://learn.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version). ### MGS Simulator * MGS Simulator v1.0.0 * For information on how to download and use the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.5.1 ### Dependent Components * [Core v3.13.4 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.4) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.15.0 ### New Features * MGS Harmony Graphics Composer * Updated with modernized user interface * Updated new project creation wizard * Added screen tree filter and search capability * MGS Simulator * Added Native Mode to allow debugging of MGS Harmony GUI design on desktop using Visual Studio Code * Added support of the HSMC peripheral to LCC Driver for SAMRHx Family * Added PIC32CZ CA70 Curiosity driver and template support * Added SAM A5D29 Curiosity driver and template support * Added SAM A7D65 Curiosity driver and template support ### Issues Fixed * LE_IMAGE_FORMAT_COUNT has a wrong definition into legato_image.h * MIPI Raspberry Pi 7\\\" Does Not Work with FreeRTOS * Jenkins build warning treated as error for XLCDC driver * Composer: Autosave Backups every N minutes * Composer: Stringtable isn't cleared when starting a new design. * Composer: New project doesn't set screen visible * Composer: Screen Tabs can't be closed * Composer Crashes when configuring keypad widget * EGT compilation problems & Crash * Composer with a project loaded crashes when requesting a create a new project * Composer loads project with Global Palette support in gray scale * Composer missing icons * Image Widget Alpha Blending malfunctioning * Composer: Update Graphics Wiki link in About Screen * Composer: When open after minimized, the Composer always reopens to the main monitor * Composer: Disabled properties don't look disabled * GLCD defines not being generated when Canvas mode is enabled * Alpha blended fills with GPU doesn't work on MZDA * Composer: Qt Rendering is constantly repainting design ### MGS Harmony Composer * MGS Harmony Composer v3.0.0 (Windows/Linux) * For more information about how to user the MGS Harmony Graphics Composer, visit the [MGS Harmony Composer User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/composer-ug/) at Microchip Develop Help. **NOTE:** MGS Harmony Composer UI/UX modernized for Windows and Linux builds only * MacOS Build version remains at: * Microchip Graphics Composer v1.4.1b * Legato Plugin v2.3.15b ### MGS Simulator * MGS Simulator v1.0.0 * For information on how to download and use the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.5.1 ### Dependent Components * [Core v3.13.4 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.4) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.14.1 ### Issues Fixed * Fixed incorrect clipping of label widget damage area * GLCD: Make sure layer settings are configurable * Graphics Canvas: fixed segfault using Simulator on x64 platforms * Fixes MCC lock-up during shutdown * Fixes new MGS Harmony project generation with MPLABX 6.20+ ### MGS Harmony Composer * Microchip Graphics Composer v1.4.1b * Legato Plugin Linux/Windows/Mac Build v2.3.15b ### MGS Simulator Beta Release * Updated Harmony components to support the Native mode for **MGS Simulator** * For information on how to download and use the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.4.1 ### Dependent Components * [Core v3.13.3 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.3) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.14.0 ### New Features * Added Cut, Copy, & Paste to Microchip Graphics Composer * There are hotkeys for each, as well as new buttons under the Edit menu * Added Undo & Redo to Microchip Graphics Composer * There are hotkeys for both, as well as new buttons under the Edit menu * Added PIC32CX SG41 Family SPI display driver and template support * Added 4-inch 720x720 Waveshare MIPI round display driver support * Added RGB332 color mode support for LCC display driver * Added Harmony components to support the **Microchip Graphics Suite Simulator** * **Note:** The MGS Simulator is in closed-beta testing until release v3.15.0. Please contact your local Microchip Sales Office or submit a question with [Microchip Client Support and Services](https://www.microchip.com/en-us/support/design-help/client-support-services) if you wish to particapte in the closed-beta testing. ### Issues Fixed * Fixed a bug where editing Keypad Widget cells would cause a crash. * Keypad Widgets are now limited to a maximum of 100x100 cells. * Fixed a bug where duplicating a screen would not add it to the Screens window. * Improved the feel of how Widgets are selected in the Design Window. * Added a User Preference to make the design auto-save when clicking the Generate Code button. * StringTable bug fixes: * Fixed a bug where importing a StringTable ‘.csv’ file would make the strings in the design disappear. * Fixed various issues with double-quotes and non-ASCII characters. * Fixed a crash that would happen after importing and then attempting to export a StringTable. * Fixed a bug where pressing Enter after editing an integer property would close the Property Window, rather than commit the value. * Updating the Display Size now updates the Design Window checkerboard pattern. * Pressing the Up/Down arrows in the Screen Tree no longer deselects the selection each time. * Input Orientation is now deprecated. Instead, use MCC’s Input System Service to configure touch-input orientation. * When selecting multiple images in the Image Manager, the Data Location property is now available for the selected images. * Composer will now ensure that there is exactly one assigned Startup Screen at any time. * Fixed a bug where deleting a selection of multiple Widgets would cause a crash. * The Slider Widget’s ‘Value’ property now uses the same units as its Min & Max properties, rather than a percentage. * The “Don’t show this again” checkbox on the Startup Window will now honor the user’s choice. * Fixed a code-generation error when using the PNG Scratch Address feature. * “Ctrl + S” is now a hotkey to Save the design. * Microchip Graphics Composer v1.4.1b * Legato Plugin Linux/Windows/Mac Build v2.3.15b ### Development Tools - [MPLAB® X IDE v6.20](https://www.microchip.com/mplab/mplab-x-ide) - [MPLAB® XC32 C/C++ Compiler v4.35](https://www.microchip.com/mplab/compilers) - MPLAB® X IDE plug-ins: - MPLAB® Code Configurator (MCC) Plugin v5.4.1 ### Dependent Components * [Core v3.13.3 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.3) * [Touch v3.14.0 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.14.0) ## Graphics Release v3.13.0 ### New Features * Added SAM9x7 MIPI-DSI display interface driver support * Added SAM9x7 LVDSC display interface driver support * Added SAM9x7 GFX2D graphics processor support * Added SAM9x7 Evaluator Board + Raspberry Pi 7\\\" 800x480 Touch Display support * Added SAM9x7 Evaluator Board + AC69T88A LVDS 800x480 Touch Display support * Added SAM9x7 Evaluator Board + Waveshare 7.9\\\" 400x1280 Touch Display support * Added SAM9x7 Evaluator Board + Waveshare 2.8\\\" 480x640 Touch Display support * Added PIC32CK SG GC Family LCC driver and template support ### Issues Fixed * MH3-81984 UsageFault_Handler occurs while calculating the baudValue due to divide by zero error * MH3-53726 MZ DA Curiosity apps documentation talks about 24-bit pass through, but does not talk about jumper position * MH3-69618 LCDDISP/DISP signal from PIC32MZ development boards must be driven high * MH3-73607 Add LCC support for PIC32CK SG Unicorn Curiosity Board * MH3-73608 Add Graphics Template support for PIC32CK SG Unicorn Curiosity Board * MH3-74247 SLCDC driver has MISRA violations * MH3-74730 Add LVDS support for SAM 9x7 Early Adopter board * MH3-74765 Need to revert to SW blits if source buffer address is not 16-byte aligned for PIC32MZ DA GPU * MH3-74767 Fix build warnings/errors while building legato on emcc/clang * MH3-75441 GFX: Align all asset data * MH3-75665 Glyph table access is causing unaligned memory access * MH3-75738 Percentage math fixes for slider widget * MH3-80697 Legato library - Memory leakage when using LegatoBarGraph widget * MH3-81738 gfx canvas effects crash if no callback is defined * MH3-81739 SPI 4 Wire Driver dereferencing a -1 Pointer * Microchip Graphics Composer v1.4.1b * Legato Plugin Linux/Windows/Mac Build v2.3.15b ### Development Tools * [MPLAB® X IDE v6.10](https://www.microchip.com/mplab/mplab-x-ide) * [MPLAB® XC32 C/C++ Compiler v4.30](https://www.microchip.com/mplab/compilers) * MPLAB® X IDE plug-ins: * [MPLAB® Code Configurator Plug-In v5.3.7](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) * [MPLAB® Code Configurator Core v5.5.7](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) ### Dependent Components * [Core v3.13.0 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.13.0) * [Touch v3.13.1 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.13.1) ## Graphics Release v3.12.2 ### Issues Fixed * MH3-73806 LCDC driver not using LCDC_SetPixelClockPolarity PLIB call to set Pixel Clock Signal Polarity * MH3-73811 The MCC plugin for MGC is still called Legato Graphics Composer as shown in the screenshot * MH3-74027 Add callback mechanism for SB blit status or completion * MH3-74169 Composer crash when adding new screen and adding widgets * Microchip Graphics Composer v1.5.0b * Legato Plugin Linux/Windows/Mac Build v2.3.15b ### Development Tools * [MPLAB® X IDE v6.00](https://www.microchip.com/mplab/mplab-x-ide) * [MPLAB® XC32 C/C++ Compiler v4.20](https://www.microchip.com/mplab/compilers) * MPLAB® X IDE plug-ins: * [MPLAB® Code Configurator (MCC) v5.1.17](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) OR * [MPLAB® Harmony Configurator (MHC) v3.8.3](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) ### Dependent Components * [Core v3.11.1 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.11.1) * [Touch v3.13.1 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.13.1) ## Graphics Release v3.12.1 ### Issues Fixed * MH3-73631 Composer crashes when deleting a layer * MH3-73702 Composer Crash when opening Image Manager Import Color Map * Microchip Graphics Composer v1.5.0b * Legato Plugin Linux/Windows/Mac Build v2.3.14b ### Development Tools * [MPLAB® X IDE v6.00](https://www.microchip.com/mplab/mplab-x-ide) * [MPLAB® XC32 C/C++ Compiler v4.20](https://www.microchip.com/mplab/compilers) * MPLAB® X IDE plug-ins: * [MPLAB® Code Configurator (MCC) v5.1.17](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) OR * [MPLAB® Harmony Configurator (MHC) v3.8.3](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) ### Dependent Components * [Core v3.11.1 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.11.1) * [Touch v3.13.1 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.13.1) ## Graphics Release v3.12.0 ### New Features * Added Right-To-Left Font support for languages such as Arabic, Hebrew, Cyrillic * Added PIC32CX MT Family Segmented SLCDC driver support * Added SAM9x60 Curiosity Board template support * Added SAMA5D27-SOM1-EK1 Board template support * Added ATSAMA5D27-WLSOM1 Board template support * Added PIC32CZ CA Family driver and template support * MH3-71833 Add Scheme Accelerator support for list wheel widget ### Issues Fixed * MH3-68743 GFX: Add conditional check for blending based on color mode * MH3-70582 bug in the drv_isc.c * MH3-70594 Button is not drawn properly on click * MH3-70843 List widget setSize is not forcing recalculation of the outer window height * DSCAPP-6321 PIC32MZ DA - Color LookUp Table (CLUT) -> RGB565 * MH3-71537 Rounded Rectangle Fix from Github * MH3-71549 GFX: Mismatched widget label * MH3-71550 GFX: Widget border doesn't get updated when property change * MH3-71551 GFX: leGPU_BlitBuffer passes different destination rectangle for GPU interface blitBuffer * MH3-71628 Fixes to legato_widget_line_graph by apapillon on GitHub * MH3-71645 maXTouch driver does not support I2C NACK error handling * MH3-71655 GFX: Add API to change z-order of widget * MH3-71698 Radial Menu Widget file not being handled in python script * MH3-71742 Fixed heap memory leak during screen change * MH3-71793 Legato Composer - New project wizard is failing * MH3-71948 GFX: Composer Crashes when configuring Keypad Widget * MH3-71965 Pre-release SLCDC issues * MH3-72140 GFX Composer: Monochrome color mode is not supported in screen preview * MH3-72295 Generate multiple asset files and font files generates one single file for each only * MH3-72316 GFX: Composer Aria Project Import File filter does not work * MH3-72327 Composer crashes when importing a bad rgb as a palette * Microchip Graphics Composer v1.4.1b * Legato Plugin Linux/Windows/Mac Build v2.3.12b ### Development Tools * [MPLAB® X IDE v6.00](https://www.microchip.com/mplab/mplab-x-ide) * [MPLAB® XC32 C/C++ Compiler v4.20](https://www.microchip.com/mplab/compilers) * MPLAB® X IDE plug-ins: * [MPLAB® Code Configurator (MCC) v5.1.17](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) OR * [MPLAB® Harmony Configurator (MHC) v3.8.3](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) ### Dependent Components * [Core v3.11.1 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.11.1) * [Touch v3.13.1 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.13.1) ## Graphics Release v3.11.1 ### Issues Fixed * MH3-70249 Composer does not correctly show Global Palette enabled design * MH3-70248 leGetRenderState() is deprecated without replacement * MH3-63712 Legato PNG decoder doesn't work properly part 2 * MH3-70533 Rendering issue with 270 degree code * MH3-70535 Graphics artifacts when using layers with transparent background (RGBA) * MH3-70860 Legato Composer - Screens not saving event enable states * Microchip Graphics Composer v1.3.0a * Legato Plugin Linux/Windows/Mac Build v2.3.1b ## Graphics Release v3.11.0 ### New Features * Replaced Legato Graphics Composer with **Microchip Graphics Composer with Legato** * SAMA5D2: Added support for Image Sensor Controller (ISC) * Added SLCC: Low-Cost Controllerless driver for Segmented LCD * Added support for OV5640 image sensor * Added support for Azure RTOS ThreadX ### Issues Fixed * MH3-44161 Legato button toggle-able behavior * MH3-45241 Better user experience with adding layers in Legato Composer * MH3-45460 Legato Composer - remember last location for importing assets * MH3-55204 png & RGBA images display incorrectly in legato * MH3-61178 Embed videos to Gfx canvas documentation * MH3-62199 Legato Composer - Alpha blending doesn't work * MH3-62217 very hard to check/uncheck the checkbox * MH3-63790 Legato - LineGraph code generated doesn't build * MH3-68565 RGDB BSP LED switches defaults to analog, needs to be output/input * MH3-68613 Harmony 3 - Legato: toChar pointer method of leTableString doesn't have any method assigned * MH3-68614 Harmony 3 - Legato: leSetLanguageChangedCallback() is not present * MH3-69308 5\\\" Display MHC Component Timing is incorrect * MH3-69618 LCDDISP/DISP signal from PIC32MZ development boards must be driven high * MH3-69638 Point Rotation Is Incorrect in 270 mode * MH3-69769 Bug in the keypad widget in harmony graphics * MH3-69853 Direct Blit causes exception * MH3-69854 Unable to delete multiple selected images in Composer * MH3-69925 Add support for Global alpha for LCDC driver * Microchip Graphics Composer v1.3.0a * Legato Plugin Linux/Windows/Mac Build v2.2.4b ## Graphics Release v3.10.0 ### New Features * SAM9X60: Added support for Image Sensor Interface (ISI) * Anti-alias Font Fast-Rendering System ### Issues Fixed * MH3-44161 Legato button toggle-able behavior * MH3-44200 Legato generic controller driver interrupt mode is needed * MH3-44862 PNG images are not rendered correctly * MH3-45241 Better user experience with adding layers in Legato Composer * MH3-45248 wrong register in LCDC_SetHorizontalBackPorchWidth * MH3-45460 Legato Composer - remember last location for importing assets * MH3-45526 MHC generate wrong code for HVsync polarity in legato display manager * MH3-51678 Optimized legato_color_blend.c * MH3-53112 LCDC peripheral missing APIs for DBLO and BLEN bits for the Layer Config * MH3-53113 LCDC Driver: Layer System Bus Burst Support * MH3-54591 GFX2D implementation has a bug causing the images to be displayed very glitchy * MH3-59698 old legato project build error with GFX 3.9.4 and text display incorrectly in legato * MH3-60482 legato displays garbage data during system initialization in PIC32MZDA with canvas mode * MH3-61252 Missing declaration in drv_gfx_ssd1963.c * MH3-61255 maXTouch Driver lacking runtime re-initialization capability * MH3-61362 Legato GFX Composer crashes in certain situations * MH3-62205 In “legato_tablestring.h” the keyword \\\"this\\\" causes compiler error * MH3-62206 le_gen_harmony.h is missing C++ guard for C++ compilation * MH3-62776 Widget Drag and Drop not working on Mac * MH3-62918 SAM 9x60 LCDC Driver Swap Interrupt not aligned with V-sync * MH3-63144 clean cache before doing a DMA transfer instead of assigning frame buffer in no cache region * MH3-63194 Legato - The text on the button widget won't update when the user use setString * Legato Composer Linux/PC Build v1.25.2b * Legato Composer Mac Build v1.25.2b ## Graphics Release v3.9.5 ### New Features * Displays and Template support for PIC32MZ DA Radial Development Board * Duplicate Screen Button in Graphics Composer ### Issues Fixed * MH3-59974 MZ DA GPU incorrect in blit-ing images with semi-transparent pixels * MH3-50911 MZ DA GPU blit preprocessed images has artifacts with width not multiple of 4 * MH3-51057 Composer Project Wizard: Automatically enable scratch buffer padding when MZ DA profile is selected * MH3-51060 MZDA image pre-processing with GPU blit does not work for non x4 wide images * MH3-51454 Add an option to byte-swap generated assets to support external controller with opposite endianness * MH3-51464 Unable to set pre-process for multiple image assets * MH3-51546 GFX: Legato: Buttons may not paint when orientation is set at 90 and 270 * MH3-51677 Add option to not store rasterized glyph data in Composer save data (glyphs.json) * MH3-52808 Legato paints only to visible area of a layer that have areas clip from view * MH3-55278 Legato Line Graph is not drawn if the axis is entirely below origin * MH3-55403 button text not vertically centered * MH3-59264 RGB565 GPU support for both PIC32MZ DA and SAM9x60 needs word aligned addressing * MH3-59468 Latest Gfx release breaks existing 8-bit applications * MH3-53723 Display Manager / GFX Core LE does not save resolution and timing values for custom display * MH3-51215 Master clock value in GLCD component does not match out value from REFCLK5 * MH3-59484 GFX: PIC32MZDA - Clock Setting in LE GLCD Configuration Options window does not get updated * Legato Composer Linux/PC Build v1.20.2b * Legato Composer Mac Build v1.20.2b ## Graphics Release v3.9.4 ### New Features * MH3-53713 LCDC HEO Layer Support ### Issues Fixed * MH3-51543 GFX Composer: Memory mapped locations ID are not set to 0 * MH3-51576 Can't load a Aria Composer Project using Legato Composer * MH3-53057 Composer crashes when importing Aria project * MH3-53111 touch down event missing rect-to-layer space translation * MH3-54915 Legato Checkbox Widget Bevel Generates Exception, doesn't respond to Touch * MH3-54996 Legato leWidget* root variables issue * Fixed LCDC driver double buffer issue * Legato Composer Linux/PC Build v1.16.6b * Legato Composer Mac Build v1.16.6b ## Graphics Release v3.9.3 ### New Features * MH3-51808 Add Integrated Graphics Touch Driver support ### Issues Fixed * MH3-45527 add touch rotation to generic touch controller * MH3-51417 Evaluate GPU blit of pre-processed images * MH3-51419 Evaluate how GFX2D handles image blits with non-opaque pixels differently with Base Layer vs OVR1 and OVR2 * MH3-51547 Enable Scratch Buffer padding if MZDA is selected in project wizard * MH3-51669 Display polarity settings not changing * MH3-51749 Support LCD backlight brightness control * MH3-51796 duplicate 'const' declaration specifier in sys_input_listener.c * MH3-51809 libnano compile error: 'memset' used with length equal to number of elements without multiplication by element size * MH3-51845 LCDC Driver Layer DMA interrupt not firing * MH3-52004 Add Layer IRQ Callback in LCDC driver * MH3-52089 Double buffering feature appears broken for LCDC (SAM 9x60/A5D2) * Legato Composer Linux/PC Build v1.14.4b * Legato Composer Mac Build v1.14.4b ## Graphics Release v3.9.2 ### New Features * MH3-50862 Add Image Preprocessing UI and code generation support * MH3-51432 Add 8-bit LUT support for LCC on Legato for SAM E70 * MH3-46945 H3 Segment LCD support for SAML22 ### Issues Fixed * MH3-46974 Reset sequence not proper for OLED C click * MH3-46942 No test for invalid index parameter in list widget code * MH3-50874 Legato Radio button widget doesn't work after destroying it * MH3-50912 Scroll Bar Widget \\\"swapDimensions\\\" incorrect * MH3-50961 Selecting more than one widget in the designer crashes Composer * MH3-50971 Line Graph Widget Skin Classic Compile Error * MH3-50972 Legato Widget InvalidateBorderAreas function has unused code * MH3-51106 Legato GFX - The Radio button CallbackEvent function are not generated * MH3-51130 Legato Composer - Image Manager Tree Drag Crash * MH3-51402 GFX Legato \\\"Uses Cache\\\" option for LCC doesn't work if is unchecked for ATSAME70Q21B * Legato Composer Linux/PC Build v1.14.4b * Legato Composer Mac Build v1.14.4b ## Graphics Release v3.9.1 ### IMPORTANT UPDATE **The GIT log (history of all commits) has been rewritten, including the release version tags, in order to reduce the time required to publish new releases.** **To update to the new version, the existing copy (clone) of this repository on your development system will need to be deleted and you will need to download (clone) the new repository version in its entirety. We are sorry for any inconvenience this causes.** ### New Features * MH3-47394 Add 8-bit LUT support for LCC on Legato for MZ EF ### Issues Fixed * MH3-47099 Legato GFX Composer crashes when clicking on a Bar Graph widget or Line Graph widget * MH3-47054 Legato Composer: Parented widgets gets foreground in screen preview * Fixed Textfield Widget use str instead of hintText for getting string charRect * Fixed Circular Widget C99 compiler error * Legato Composer Linux/PC Build v1.13.5b * Legato Composer Mac Build v1.13.5b ## Graphics Release v3.9.0 ### Issues Fixed * MH3-45475 Update LCDC IOCTLS for Canvas Support * MH3-45728 Windows Path/Java Path resolve issue * MH3-45722 Add GPU interface for setting orientation * MH3-45765 Fixes blending of alpha channels * MH3-45432 Add Legato Composer Mac OS support * MH3-45433 LNF for property buttons and line entries * MH3-45614 button setstring nullptr * MH3-24676 Composer: Allow multi-image select and change property using Image Asset Manager * MH3-45619 Add Legato double-buffer & multi-layer support for 9X60 * MH3-45678 Missing leString_Free function * MH3-45636 fixes hierarchy culling in pre-rendering stages * MH3-46556 Legato Composer Radial Menu widget does not save the items number * MH3-46491 Unable to change the root screen size * MH3-46628 Add screen orientation feature for legato on sam9x60 * MH3-45721 Composer: Add hide/show option for layers * MH3-46528 Legato Composer crashes when adding a new string (in some condition) * MH3-45763 Legato Composer - RLE image data is in the wrong color mode * MH3-45761 Legato - Asynchronous Screen State Machine * MH3-45762 Legato - Harmony Delta Time support * MH3-45541 Composer Image Manager does not support import image with chinese path or filename * MH3-45459 Composer crashes when using arrow keys to move widgets * MH3-45680 Legato - Circular Gauge Widget Live Update * MH3-36848 add Batch image manipulation for MHGC * MH3-45679 Legato - Group selection box arrow keys don't move all selected widgets * MH3-45525 legato composer crash when dragging& moving widget in screen tree with mouse * MH3-45530 legato composer crash when after adding data category for bar graph widget * MH3-44633 Strings window under the Assets Tab in Legato Graphics Composer does not close * MH3-44333 GFX - composer fails to load palettized PNGs * MH3-18067 Legato Composer - Virtual sliders for properties * Fix canvas objects limit check * Fix IOCTL range check in GLCD driver * Fixes CRLF broken CJK fonts * Legato Composer Linux/PC Build v1.13.3 * Legato Composer Mac Build v1.13.3 ## Graphics Release v3.8.3 ### Issues Fixed * MH3-45463 Fixes wrong apps/readme.md file publish in v3.8.2 ## Graphics Release v3.8.2 ### Issues Fixed * MH3-45434 Composer Font Import C-Friendly field * MH3-45242 Customer Suggested Fixes for Legato Library * MH3-45223 Fixes Composer Legato Jave Project Import Default Language * MH3-45206 Legato Composer: Set Composer window to foreground when closed thru MPLABX/MHC * MH3-45183 le_string callback variable using LE_MALLOC uninitialized * MH3-45173 Event Manager Typo: On_Update typo as On_Hide * MH3-45161 gfx2d and libnano compile errors with -wlong-long flag * MH3-44905 Allow user to disable image decoders * MH3-44890 Replace casting of lePixelBuffer to gfxPixelBuffer in gfx_driver * MH3-44692 Legato Composer - can't pan or zoom designer screen if design dimension exceeds designer screen size ## Graphics Release v3.8.1 ### Issues Fixed * MH3-44910 Fixes issue with application page rendering with Jerkyll * MH3-44911 Fixes issue with Composer failing to launch in Windows 10 ## Graphics Release v3.8.0 ### New Features * MH3-44697 Remove Aria applications, middleware and tools from repo * MH3-44700 Remove Aria documentation from repo * MH3-44483 Add GFX2D setGlobalAlpha stub interface * MH3-44301 Add asynchronous blit interface to 2D GPU * MH3-31839 Put device filters in various modules such that only the ones supported are loaded * MH3-44244 added some more coherency flags generation * MH3-44162 updated leString_Delete code documentation * MH3-38627 added screen events to screen manager window * MH3-44290 fixes text field widget cursor placement issue * MH3-43778 fixes image decoders when using GPU * MH3-44463 fixes usage of leStream_Read * MH3-44352 composer v1.4.0b added rectangle padding method * MH3-44421 composer v1.3.1b * MH3-38039 Add Legato Demo Mode support in Input Service * MH3-44416 PIC32MZ DA: Add double buffer support * MH3-44417 Update GFX Canvas to use new IOCTL driver interface * MH3-44244 cache coherency update for legato * MH3-44242 jpeg decoder initialization in streaming mode * MH3-44245 legato double buffering support, gfx ioctl interface * MH3-18081 legato multiple scratch buffer support * MH3-44334 fixes compiler warnings for legato stack * MH3-43587 Add vblank sync'd scratch buffer GPU blits to GLCD driver * MH3-36222 Add config for SAME70 and PIC32 MZ EF LCC DMA scratch buffer blit * MH3-43851 Fix num of commands and params for external controller when set to maximum ### Known Issues * Applications running on SAM E70 in combination with LCC will observe visual rendering artifacts on display during SD card R/W access. There is no loss in SD Card data. * For applications on SAM E54 + CPRO with the 24-bit passthrough board, Pin 7 of the EXT1 connector should drive the backlight. However, on rev1.0 of the board, it is not connected to any pin on the MCU. As a workaround, it needs to be connected to a v3.3 pin. * MISRA 2012 Rule 9.1 Compliance Deviation at legato_error.c line 74 For a list of post release issues that affect this release, refer to MPLAB Harmony [GFX Issues and Errata](https://github.com/mchpgfx/legato.docs/wiki/Issues-and-Errata). ### Development Tools * [MPLAB® X IDE v6.00](https://www.microchip.com/mplab/mplab-x-ide) * [MPLAB® XC32 C/C++ Compiler v4.20](https://www.microchip.com/mplab/compilers) * MPLAB® X IDE plug-ins: * [MPLAB® Code Configurator (MCC) v5.1.17](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) OR * [MPLAB® Harmony Configurator (MHC) v3.8.3](https://github.com/Microchip-MPLAB-Harmony/mplabx-plugin) ### Dependent Components * [Core v3.11.1 ](https://github.com/Microchip-MPLAB-Harmony/core/releases/tag/v3.11.1) * [Touch v3.13.1 ](https://github.com/Microchip-MPLAB-Harmony/touch/releases/tag/v3.13.1) ",
    "url": "http://localhost:4000/gfx/release_notes.html",
    "relUrl": "/release_notes.html"
  },"6": {
    "doc": "Microchip Graphics Suite Harmony Package",
    "title": "Microchip Graphics Suite Harmony Package",
    "content": "# ![Microchip Technology](https://mchpgfx.github.io/legato.docs/docs/legato/images/mgs.svg) Microchip Graphics Suite Harmony Package MPLAB® Harmony 3 is an extension of the MPLAB® ecosystem for creating embedded firmware solutions for Microchip 32-bit SAM and PIC® microcontroller and microprocessor devices. Refer to the following links for more information: - [Microchip 32-bit MCUs](https://www.microchip.com/design-centers/32-bit) - [Microchip 32-bit MPUs](https://www.microchip.com/design-centers/32-bit-mpus) - [Microchip MPLAB® X IDE](https://www.microchip.com/mplab/mplab-x-ide) - [Microchip MPLAB® Harmony](https://www.microchip.com/mplab/mplab-harmony) - [Microchip MPLAB® Harmony Pages](https://microchip-mplab-harmony.github.io/) - [MPLAB® Discover](https://mplab-discover.microchip.com/v2?dsl=Microchip+AND+Graphics+AND+Suite) This repository contains the MPLAB® Harmony 3 Support Package for Microchip Graphics Suite (MGS). The suite supports a free fast to market, graphics software development environment for Microchip MPLAB® 32-bit SAM and PIC® microcontroller and microprocessor devices. Refer to the following graphics links for release notes, home page, training materials, framework and application help. For feature-rich, professional Microchip Graphics Suite demonstrations and demonstrations from third-party graphics libaries, refer to user guides on [Microchip Developer Help](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/dev-kits) or search for \\\"Microchip Graphcis Suite\\\" on [MPLAB® Discover](https://mplab-discover.microchip.com/v2?dsl=Microchip+AND+Graphics+AND+Suite). Examples for display bring-up can be found at various [device-family specific repositories](https://github.com/Microchip-MPLAB-Harmony/gfx/tree/master/apps) - [Release Notes](https://github.com/Microchip-MPLAB-Harmony/gfx/blob/master/release_notes.md) - [MPLAB® Harmony License](https://github.com/Microchip-MPLAB-Harmony/gfx/blob/master/mplab_harmony_license.md) - [User Guides on Microchip Graphics Suite Harmony](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/) - [Professional Designs on Microchip Graphics Suite Development Kits](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/dev-kits/) # Features The key features of the Microchip Graphics Suite (MGS) are the following: - Hardware optimized for use with Microchip 32-bit SAM and PIC® devices - Compatible component for use with MPLAB Code Configurator (MCC) - **MGS Harmony Composer** WYSWYG UI designer tool for Windows, Linux and Mac - **MGS Simulator** A tool to generate simulated GUI designs to run on Windows, Linux and Mac - Written in C with MISRA C (Mandatory) compliancy - RTOS (FreeRTOS, ThreadX) and non-RTOS support - Configurable widget building blocks buttons, labels, lists, sliders, and images - Rich tool set: Heap Estimator, Event Manager, Palette generator, Asset Manager, String and Font interface, DDR memory organizer - Hardware integrated for Microchip GPU and display controller peripherals - Support for single and double frame buffers - Multi-language font support - External input support for use with capacitive, resistive and other devices - Fluid-UI support for alpha-blending, animations, scaling - Pixel format support for RGBA8888, RGB888, RGB565, RGB5551, RGB332, GS8, YrBrCr - Multi-image support for industry standard formats, compression choices, external memory accessibility - Fully functional demonstrations and quick-starts to enable new development - Low memory and low power configurable - Segmented LCD support - LVDS-interface display support - MIPI-DSI display support - 3rd-Party Graphics Vendor support # Contents Summary *** ## MGS Harmony Composer *** MGS Harmony Composer is a software tool that helps users create and manage GUI elements for their applications. It is part of MGS, which is a comprehensive, easy-to-use set of graphics tools for developing GUIs for Microchip's 32-bit microcontrollers (MCUs) and microprocessors (MPUs). For additional information, visit the [MGS Harmony Composer User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/composer-ug/) at Microchip Develop Help. *** ## MGS Simulator *** MGS Harmony Simulator allows developers to prototype and debug graphics applications on a PC, before deploying them on the actual hardware. It emulates the graphics controller of an MCU/MPU, allowing you to see the output of your code in real-time. For information on how to download and use the Simulator as a productivity tools to shorten development time and reduce the overall cost of your embedded GUI designs, visit the [MGS Simulator User Guide](https://developerhelp.microchip.com/xwiki/bin/view/software-tools/mgs/mgs-harmony-guide/simulator/) at Microchip Develop Help. *** ## MGS Harmony Library (also known as Legato) *** The bare-metal graphics library for Microchip Graphics Suite. Supports Microchip PIC32 and SAM microcontrollers and microprocessors | Category | Item | Description | Release Status | --- | --- | ---- |---- | drivers| glcd | Driver for the GLCD display controller peripheral | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | 2dgpu | Driver for the 2DGPU graphics processor |![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | lcc | Driver for the LCC software display controller| ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | gfx2d | Driver for the GFX2D graphics processor| ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | lcdc | Driver for the LCDC display controller peripheral | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | external controller | Driver generator for external display controllers | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | ssd1963 | Driver for the ssd1963 display controller | ![app-beta](https://img.shields.io/badge/driver-deprecated-red?style=plastic) | | ili9488 | Display Driver for the ili9488 controller | ![app-beta](https://img.shields.io/badge/driver-deprecated-red?style=plastic) | | parallel_ebi | Interface to the parallel EBI registers | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | parallel_portgroup | Inteface to the parallel portgroup registers | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | parallel_smc | Interface to the parallel smc registers | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | spi | Interface to the spi registers | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | xlcdc | Driver for the XLCDC display controller peripheral | ![app-beta](https://img.shields.io/badge/driver-beta-orange?style=plastic) | | dsi | Driver for the MIPI-DSI display interface | ![app-beta](https://img.shields.io/badge/driver-beta-orange?style=plastic) | | lvdsc | Driver for the LVDS display interface | ![app-beta](https://img.shields.io/badge/driver-beta-orange?style=plastic) | library | legato | MGS Harmony library | ![app-beta](https://img.shields.io/badge/library-production-green?style=plastic) | designer | MGC Harmony | MGS Harmony Composer| ![app-beta](https://img.shields.io/badge/tool-production-green?style=plastic) | **NOTE:** ssd1963 and the ili9488 drivers are deprecated. Their functionality are replaced by external controller driver. All applications using these drivers must transition to external controller driver. *** ## Blank Library Interface *** **Blank Library Interface** - the library interface which easily allows a third-party graphics library direct access to the display framebuffer. Blank library applications are available at various [device-family specific repositories](https://microchip-mplab-harmony.github.io/gfx/apps/readme.html). *** ## 3rd-Party Graphics Vendor Support *** **LVGL** - demonstrations interfacing with LVGL are available for the [SAM 9x60 Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_9x60), the [SAM 9x7 Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_9x7), the [SAM D5x/E5x Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_d5x_e5x), and the [PIC32MZ DA Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_pic32mz_da). **Tara Embedded Wizard** - demonstrations interfacing with Tara Embedded Wizard are available for the [SAM A5D2 Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_sam_a5d2), the [SAM 9x60 Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_9x60), and the [SAM 9x7 Family](https://github.com/Microchip-MPLAB-Harmony/gfx_apps_sam_9x7) *** ## Image Sensor Support *** Image Sensor Controller Drivers for SAM microprocessors and Image Sensor Drivers **NOTE:** Starting from Harmony 3 Graphics release v3.14.0 and over the next several releases, image sensor support will be gradually removed from the Graphics release and repositioned in releases of [Harmony 3 Vision Package](https://github.com/Microchip-MPLAB-Harmony/vision). This chart shows which drivers are located in which repository. | Category | Item | Description | Release Status | Repository | --- | --- | ---- |---- |---- | drivers| isi | Driver for the Image Sensor Interface peripheral | ![app-beta](https://img.shields.io/badge/driver-beta-orange?style=plastic) | ![app-beta](https://img.shields.io/badge/repository-gfx-green?style=plastic) | | cam | Driver for the OV5640 image sensor module for ISI |![app-beta](https://img.shields.io/badge/driver-beta-orange?style=plastic) | ![app-beta](https://img.shields.io/badge/repository-gfx-green?style=plastic) | | isc | Driver for the Image Sensor Controller peripheral | ![app-beta](https://img.shields.io/badge/drive-beta-orange?style=plastic) | ![app-beta](https://img.shields.io/badge/repository-vision-blue?style=plastic) | *** *** ## Segmented LCD Support *** Controller Drivers for Segemented LCDs for SAM microcontrollers | Category | Item | Description | Release Status | --- | --- | ---- |---- | drivers| slcc | Low-Cost Controllerless Driver for the Segmented LCD displays | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | slcd | Driver for the SAM L22 Segmented LCD display controller peripheral | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | | slcdc | Driver for the PIC32CX MT Segmented LCD display controller peripheral | ![app-beta](https://img.shields.io/badge/driver-production-green?style=plastic) | *** ## Aria Graphics *** The legacy graphics facilities for MPLAB® Harmony Graphics Suite. Supports Microchip PIC32 and SAM microcontrollers. As of Graphics release v3.8.0, Aria Graphics has been deprecated and removed from this repository. A snapshot of all previously published applications, tools, middleware and drivers related to Harmony 3 Aria Graphics are available at this [archive repository](https://github.com/Microchip-MPLAB-Harmony/gfx_aria). ____ [![License](https://img.shields.io/badge/license-Harmony%20license-orange.svg)](https://github.com/Microchip-MPLAB-Harmony/gfx/blob/master/mplab_harmony_license.md) [![Latest release](https://img.shields.io/github/release/mchpgfx/legato.docs.svg)](https://github.com/Microchip-MPLAB-Harmony/gfx/tree/v3.14.0) [![Latest release date](https://img.shields.io/github/release-date/mchpgfx/legato.docs.svg)](https://github.com/Microchip-MPLAB-Harmony/gfx/tree/v3.14.0) [![Commit activity](https://img.shields.io/github/commit-activity/y/Microchip-MPLAB-Harmony/gfx.svg)](https://github.com/Microchip-MPLAB-Harmony/gfx/graphs/commit-activity) [![Contributors](https://img.shields.io/github/contributors-anon/Microchip-MPLAB-Harmony/gfx.svg)]() ____ [![Follow us on Youtube](https://img.shields.io/badge/Youtube-Follow%20us%20on%20Youtube-red.svg)](https://www.youtube.com/user/MicrochipTechnology) [![Follow us on LinkedIn](https://img.shields.io/badge/LinkedIn-Follow%20us%20on%20LinkedIn-blue.svg)](https://www.linkedin.com/company/microchip-technology) [![Follow us on Facebook](https://img.shields.io/badge/Facebook-Follow%20us%20on%20Facebook-blue.svg)](https://www.facebook.com/microchiptechnology/) [![Follow us on Twitter](https://img.shields.io/twitter/follow/MicrochipTech.svg?style=social)](https://twitter.com/MicrochipTech) [![](https://img.shields.io/github/stars/Microchip-MPLAB-Harmony/gfx.svg?style=social)]() [![](https://img.shields.io/github/watchers/Microchip-MPLAB-Harmony/gfx.svg?style=social)]() ",
    "url": "http://localhost:4000/gfx/",
    "relUrl": "/"
  }
}
`;
var data_for_search

var repo_name = "gfx";
var doc_folder_name = "docs";
var localhost_path = "http://localhost:4000/";
var home_index_string = "Microchip Graphics Suite Harmony";

(function (jtd, undefined) {

// Event handling

jtd.addEvent = function(el, type, handler) {
  if (el.attachEvent) el.attachEvent('on'+type, handler); else el.addEventListener(type, handler);
}
jtd.removeEvent = function(el, type, handler) {
  if (el.detachEvent) el.detachEvent('on'+type, handler); else el.removeEventListener(type, handler);
}
jtd.onReady = function(ready) {
  // in case the document is already rendered
  if (document.readyState!='loading') ready();
  // modern browsers
  else if (document.addEventListener) document.addEventListener('DOMContentLoaded', ready);
  // IE <= 8
  else document.attachEvent('onreadystatechange', function(){
      if (document.readyState=='complete') ready();
  });
}

// Show/hide mobile menu

function initNav() {
  jtd.addEvent(document, 'click', function(e){
    var target = e.target;
    while (target && !(target.classList && target.classList.contains('nav-list-expander'))) {
      target = target.parentNode;
    }
    if (target) {
      e.preventDefault();
      target.parentNode.classList.toggle('active');
    }
  });

  const siteNav = document.getElementById('site-nav');
  const mainHeader = document.getElementById('main-header');
  const menuButton = document.getElementById('menu-button');

  jtd.addEvent(menuButton, 'click', function(e){
    e.preventDefault();

    if (menuButton.classList.toggle('nav-open')) {
      siteNav.classList.add('nav-open');
      mainHeader.classList.add('nav-open');
    } else {
      siteNav.classList.remove('nav-open');
      mainHeader.classList.remove('nav-open');
    }
  });
}
// Site search

function initSearch() {

    data_for_search = JSON.parse(myVariable);
    lunr.tokenizer.separator = /[\s/]+/

    var index = lunr(function () {
        this.ref('id');
        this.field('title', { boost: 200 });
        this.field('content', { boost: 2 });
        this.field('url');
        this.metadataWhitelist = ['position']

        var location = document.location.pathname;
        var path = location.substring(0, location.lastIndexOf("/"));
        var directoryName = path.substring(path.lastIndexOf("/")+1);

        var cur_path_from_repo = path.substring(path.lastIndexOf(repo_name));

        // Decrement depth by 2 as HTML files are placed in repo_name/doc_folder_name
        var cur_depth_from_doc_folder = (cur_path_from_repo.split("/").length - 2);

        var rel_path_to_doc_folder = "";

        if (cur_depth_from_doc_folder == 0) {
            rel_path_to_doc_folder = "./"
        }
        else {
            for (var i = 0; i < cur_depth_from_doc_folder; i++)
            {
                rel_path_to_doc_folder = rel_path_to_doc_folder + "../"
            }
        }

        for (var i in data_for_search) {

            data_for_search[i].url = data_for_search[i].url.replace(localhost_path + repo_name, rel_path_to_doc_folder);

            if (data_for_search[i].title == home_index_string)
            {
                data_for_search[i].url = data_for_search[i].url + "index.html"
            }

            this.add({
                id: i,
                title: data_for_search[i].title,
                content: data_for_search[i].content,
                url: data_for_search[i].url
            });
        }
    });

    searchLoaded(index, data_for_search);
}function searchLoaded(index, docs) {
  var index = index;
  var docs = docs;
  var searchInput = document.getElementById('search-input');
  var searchResults = document.getElementById('search-results');
  var mainHeader = document.getElementById('main-header');
  var currentInput;
  var currentSearchIndex = 0;

  function showSearch() {
    document.documentElement.classList.add('search-active');
  }

  function hideSearch() {
    document.documentElement.classList.remove('search-active');
  }

  function update() {
    currentSearchIndex++;

    var input = searchInput.value;
    if (input === '') {
      hideSearch();
    } else {
      showSearch();
      // scroll search input into view, workaround for iOS Safari
      window.scroll(0, -1);
      setTimeout(function(){ window.scroll(0, 0); }, 0);
    }
    if (input === currentInput) {
      return;
    }
    currentInput = input;
    searchResults.innerHTML = '';
    if (input === '') {
      return;
    }

    var results = index.query(function (query) {
      var tokens = lunr.tokenizer(input)
      query.term(tokens, {
        boost: 10
      });
      query.term(tokens, {
        wildcard: lunr.Query.wildcard.TRAILING
      });
    });

    if ((results.length == 0) && (input.length > 2)) {
      var tokens = lunr.tokenizer(input).filter(function(token, i) {
        return token.str.length < 20;
      })
      if (tokens.length > 0) {
        results = index.query(function (query) {
          query.term(tokens, {
            editDistance: Math.round(Math.sqrt(input.length / 2 - 1))
          });
        });
      }
    }

    if (results.length == 0) {
      var noResultsDiv = document.createElement('div');
      noResultsDiv.classList.add('search-no-result');
      noResultsDiv.innerText = 'No results found';
      searchResults.appendChild(noResultsDiv);

    } else {
      var resultsList = document.createElement('ul');
      resultsList.classList.add('search-results-list');
      searchResults.appendChild(resultsList);

      addResults(resultsList, results, 0, 10, 100, currentSearchIndex);
    }

    function addResults(resultsList, results, start, batchSize, batchMillis, searchIndex) {
      if (searchIndex != currentSearchIndex) {
        return;
      }
      for (var i = start; i < (start + batchSize); i++) {
        if (i == results.length) {
          return;
        }
        addResult(resultsList, results[i]);
      }
      setTimeout(function() {
        addResults(resultsList, results, start + batchSize, batchSize, batchMillis, searchIndex);
      }, batchMillis);
    }

    function addResult(resultsList, result) {
      var doc = docs[result.ref];

      var resultsListItem = document.createElement('li');
      resultsListItem.classList.add('search-results-list-item');
      resultsList.appendChild(resultsListItem);

      var resultLink = document.createElement('a');
      resultLink.classList.add('search-result');
      resultLink.setAttribute('href', doc.url);
      resultsListItem.appendChild(resultLink);

      var resultTitle = document.createElement('div');
      resultTitle.classList.add('search-result-title');
      resultLink.appendChild(resultTitle);

      var resultDoc = document.createElement('div');
      resultDoc.classList.add('search-result-doc');
      resultDoc.innerHTML = '<svg viewBox="0 0 24 24" class="search-result-icon"><use xlink:href="#svg-doc"></use></svg>';
      resultTitle.appendChild(resultDoc);

      var resultDocTitle = document.createElement('div');
      resultDocTitle.classList.add('search-result-doc-title');
      resultDocTitle.innerHTML = doc.doc;
      resultDoc.appendChild(resultDocTitle);
      var resultDocOrSection = resultDocTitle;

      if (doc.doc != doc.title) {
        resultDoc.classList.add('search-result-doc-parent');
        var resultSection = document.createElement('div');
        resultSection.classList.add('search-result-section');
        resultSection.innerHTML = doc.title;
        resultTitle.appendChild(resultSection);
        resultDocOrSection = resultSection;
      }

      var metadata = result.matchData.metadata;
      var titlePositions = [];
      var contentPositions = [];
      for (var j in metadata) {
        var meta = metadata[j];
        if (meta.title) {
          var positions = meta.title.position;
          for (var k in positions) {
            titlePositions.push(positions[k]);
          }
        }
        if (meta.content) {
          var positions = meta.content.position;
          for (var k in positions) {
            var position = positions[k];
            var previewStart = position[0];
            var previewEnd = position[0] + position[1];
            var ellipsesBefore = true;
            var ellipsesAfter = true;
            for (var k = 0; k < 5; k++) {
              var nextSpace = doc.content.lastIndexOf(' ', previewStart - 2);
              var nextDot = doc.content.lastIndexOf('. ', previewStart - 2);
              if ((nextDot >= 0) && (nextDot > nextSpace)) {
                previewStart = nextDot + 1;
                ellipsesBefore = false;
                break;
              }
              if (nextSpace < 0) {
                previewStart = 0;
                ellipsesBefore = false;
                break;
              }
              previewStart = nextSpace + 1;
            }
            for (var k = 0; k < 10; k++) {
              var nextSpace = doc.content.indexOf(' ', previewEnd + 1);
              var nextDot = doc.content.indexOf('. ', previewEnd + 1);
              if ((nextDot >= 0) && (nextDot < nextSpace)) {
                previewEnd = nextDot;
                ellipsesAfter = false;
                break;
              }
              if (nextSpace < 0) {
                previewEnd = doc.content.length;
                ellipsesAfter = false;
                break;
              }
              previewEnd = nextSpace;
            }
            contentPositions.push({
              highlight: position,
              previewStart: previewStart, previewEnd: previewEnd,
              ellipsesBefore: ellipsesBefore, ellipsesAfter: ellipsesAfter
            });
          }
        }
      }

      if (titlePositions.length > 0) {
        titlePositions.sort(function(p1, p2){ return p1[0] - p2[0] });
        resultDocOrSection.innerHTML = '';
        addHighlightedText(resultDocOrSection, doc.title, 0, doc.title.length, titlePositions);
      }

      if (contentPositions.length > 0) {
        contentPositions.sort(function(p1, p2){ return p1.highlight[0] - p2.highlight[0] });
        var contentPosition = contentPositions[0];
        var previewPosition = {
          highlight: [contentPosition.highlight],
          previewStart: contentPosition.previewStart, previewEnd: contentPosition.previewEnd,
          ellipsesBefore: contentPosition.ellipsesBefore, ellipsesAfter: contentPosition.ellipsesAfter
        };
        var previewPositions = [previewPosition];
        for (var j = 1; j < contentPositions.length; j++) {
          contentPosition = contentPositions[j];
          if (previewPosition.previewEnd < contentPosition.previewStart) {
            previewPosition = {
              highlight: [contentPosition.highlight],
              previewStart: contentPosition.previewStart, previewEnd: contentPosition.previewEnd,
              ellipsesBefore: contentPosition.ellipsesBefore, ellipsesAfter: contentPosition.ellipsesAfter
            }
            previewPositions.push(previewPosition);
          } else {
            previewPosition.highlight.push(contentPosition.highlight);
            previewPosition.previewEnd = contentPosition.previewEnd;
            previewPosition.ellipsesAfter = contentPosition.ellipsesAfter;
          }
        }

        var resultPreviews = document.createElement('div');
        resultPreviews.classList.add('search-result-previews');
        resultLink.appendChild(resultPreviews);

        var content = doc.content;
        for (var j = 0; j < Math.min(previewPositions.length, 3); j++) {
          var position = previewPositions[j];

          var resultPreview = document.createElement('div');
          resultPreview.classList.add('search-result-preview');
          resultPreviews.appendChild(resultPreview);

          if (position.ellipsesBefore) {
            resultPreview.appendChild(document.createTextNode('... '));
          }
          addHighlightedText(resultPreview, content, position.previewStart, position.previewEnd, position.highlight);
          if (position.ellipsesAfter) {
            resultPreview.appendChild(document.createTextNode(' ...'));
          }
        }
      }
      var resultRelUrl = document.createElement('span');
      resultRelUrl.classList.add('search-result-rel-url');
      resultRelUrl.innerText = doc.relUrl;
      resultTitle.appendChild(resultRelUrl);
    }

    function addHighlightedText(parent, text, start, end, positions) {
      var index = start;
      for (var i in positions) {
        var position = positions[i];
        var span = document.createElement('span');
        span.innerHTML = text.substring(index, position[0]);
        parent.appendChild(span);
        index = position[0] + position[1];
        var highlight = document.createElement('span');
        highlight.classList.add('search-result-highlight');
        highlight.innerHTML = text.substring(position[0], index);
        parent.appendChild(highlight);
      }
      var span = document.createElement('span');
      span.innerHTML = text.substring(index, end);
      parent.appendChild(span);
    }
  }

  jtd.addEvent(searchInput, 'focus', function(){
    setTimeout(update, 0);
  });

  jtd.addEvent(searchInput, 'keyup', function(e){
    switch (e.keyCode) {
      case 27: // When esc key is pressed, hide the results and clear the field
        searchInput.value = '';
        break;
      case 38: // arrow up
      case 40: // arrow down
      case 13: // enter
        e.preventDefault();
        return;
    }
    update();
  });

  jtd.addEvent(searchInput, 'keydown', function(e){
    switch (e.keyCode) {
      case 38: // arrow up
        e.preventDefault();
        var active = document.querySelector('.search-result.active');
        if (active) {
          active.classList.remove('active');
          if (active.parentElement.previousSibling) {
            var previous = active.parentElement.previousSibling.querySelector('.search-result');
            previous.classList.add('active');
          }
        }
        return;
      case 40: // arrow down
        e.preventDefault();
        var active = document.querySelector('.search-result.active');
        if (active) {
          if (active.parentElement.nextSibling) {
            var next = active.parentElement.nextSibling.querySelector('.search-result');
            active.classList.remove('active');
            next.classList.add('active');
          }
        } else {
          var next = document.querySelector('.search-result');
          if (next) {
            next.classList.add('active');
          }
        }
        return;
      case 13: // enter
        e.preventDefault();
        var active = document.querySelector('.search-result.active');
        if (active) {
          active.click();
        } else {
          var first = document.querySelector('.search-result');
          if (first) {
            first.click();
          }
        }
        return;
    }
  });

  jtd.addEvent(document, 'click', function(e){
    if (e.target != searchInput) {
      hideSearch();
    }
  });
}

// Switch theme

jtd.getTheme = function() {
  var cssFileHref = document.querySelector('[rel="stylesheet"]').getAttribute('href');
  return cssFileHref.substring(cssFileHref.lastIndexOf('-') + 1, cssFileHref.length - 4);
}

jtd.setTheme = function(theme) {
  var cssFile = document.querySelector('[rel="stylesheet"]');
  cssFile.setAttribute('href', 'http://localhost:4000/gfx/assets/css/just-the-docs-' + theme + '.css');
}

// Document ready

jtd.onReady(function(){
  initNav();
  initSearch();
});

})(window.jtd = window.jtd || {});


